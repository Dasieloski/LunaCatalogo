generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
  id             String   @id @default(cuid())
  name           String
  description    String?  @default("")
  category       String?  @default("")
  presentation   String
  image          String?  @default("") // public URL (Supabase Storage) or empty
  priceContainer String
  pricePallet    String
  priceBox       String
  status         String   @default("active") // active | offer | featured

  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model CatalogSettings {
  /// singleton row (id=1)
  id              Int      @id @default(1)
  companyName     String   @default("Luna")
  companyTagline  String   @default("Su socio estratégico en distribución comercial")
  catalogIntro    String   @default("Ofrecemos una amplia gama de productos de alta rotación para mayoristas y minoristas.")

  /// stored as JSON to match existing shapes
  contact         Json     @default("{\"phones\":[],\"whatsapps\":[]}")
  localDelivery   Json     @default("{\"capacity\":\"Hasta 3 Pallets por envío\",\"priceRange\":\"Desde 4.000 hasta 8.000 MNs según zona de entrega\"}")
  nationalDelivery Json    @default("{\"cities\":[]}")

  updatedAt       DateTime @updatedAt
}


